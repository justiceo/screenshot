var IS_DEV_BUILD=false;
(()=>{var i="https://forms.gle/MLu6iBLLcXEk1ZhH6",a=chrome.runtime.getURL("welcome/welcome.html"),m=t=>{t.reason==="install"&&chrome.tabs.create({url:a,active:!0}),chrome.runtime.setUninstallURL(i,()=>{chrome.runtime.lastError&&console.error("Error setting uninstall URL",chrome.runtime.lastError)})};chrome.runtime.onInstalled.addListener(m);var r=class{constructor(){this.RELOAD_ACTION={menu:{id:"audate-reload",title:"Reload Extension",visible:!0,contexts:["action"]},handler:e=>{chrome.runtime.reload()}};this.browserActionContextMenu=[this.RELOAD_ACTION];this.init=()=>{if(!chrome||!chrome.contextMenus){console.warn("No access to chrome.contextMenus");return}chrome.contextMenus.removeAll(),this.browserActionContextMenu.forEach(e=>chrome.contextMenus.create(e.menu)),chrome.contextMenus.onClicked.addListener(this.onClick)};this.onClick=(e,o)=>{let n=this.browserActionContextMenu.find(s=>s.menu.id===e.menuItemId);n?n.handler(e,o):console.error("Unable to find menu item: ",e)}}sendMessage(e){chrome.tabs.query({active:!0,currentWindow:!0},o=>{chrome.tabs.sendMessage(o[0].id,e,n=>{console.debug("ack:",n)})})}};new r().init();chrome.tabs.onUpdated.addListener((t,e,o)=>{chrome.tabs.get(t,n=>c(n.url))});chrome.tabs.onActivated.addListener(t=>{chrome.tabs.get(t.tabId,e=>c(e.url))});var c=t=>{let e=!t||!t.trim()||t.indexOf("chrome-extension://")>0||t.indexOf("chrome://newtab/")>0||t.indexOf("chrome.google.com/webstore")>0?"assets/logo-gray-128x128.png":"assets/logo-128x128.png";chrome.action.setIcon({path:chrome.runtime.getURL(e)})};})();
